{
  "entityType" : "DEVICE",
  "entity" : {
    "additionalInfo" : {
      "gateway" : true
    },
    "customerId" : {
      "entityType" : "CUSTOMER",
      "id" : "13814000-1dd2-11b2-8080-808080808080"
    },
    "deviceData" : {
      "configuration" : {
        "type" : "DEFAULT"
      },
      "transportConfiguration" : {
        "type" : "DEFAULT"
      }
    },
    "deviceProfileId" : {
      "entityType" : "DEVICE_PROFILE",
      "id" : "d4120680-3a93-11f0-96f4-672ec1447afa"
    },
    "externalId" : null,
    "firmwareId" : null,
    "id" : {
      "entityType" : "DEVICE",
      "id" : "f451d870-0762-11f1-aaec-896783e71c4d"
    },
    "label" : "",
    "name" : "GW TEST",
    "softwareId" : null,
    "type" : "default"
  },
  "credentials" : {
    "credentialsId" : "hgdktEDhCSjnM0ZrkmIl",
    "credentialsType" : "ACCESS_TOKEN",
    "credentialsValue" : null
  },
  "relations" : [ {
    "additionalInfo" : null,
    "from" : {
      "entityType" : "DEVICE",
      "id" : "f451d870-0762-11f1-aaec-896783e71c4d"
    },
    "to" : {
      "entityType" : "DEVICE",
      "id" : "3cebd7e0-0ba3-11f1-8fce-55f815a3848a"
    },
    "type" : "Created",
    "typeGroup" : "COMMON",
    "version" : 24545
  } ],
  "attributes" : {
    "SERVER_SCOPE" : [ {
      "booleanValue" : false,
      "doubleValue" : null,
      "jsonValue" : null,
      "key" : "active",
      "lastUpdateTs" : 1772294333243,
      "longValue" : null,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : 3.6,
      "jsonValue" : null,
      "key" : "battery_nominal",
      "lastUpdateTs" : 1770825701334,
      "longValue" : null,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : null,
      "key" : "inactivityAlarmTime",
      "lastUpdateTs" : 1772294333240,
      "longValue" : 1772294333238,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : null,
      "key" : "lastActivityTime",
      "lastUpdateTs" : 1772293731078,
      "longValue" : 1772293729845,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : null,
      "key" : "lastConnectTime",
      "lastUpdateTs" : 1772219864080,
      "longValue" : 1772219864080,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : null,
      "key" : "lastDisconnectTime",
      "lastUpdateTs" : 1772054925079,
      "longValue" : 1772054925079,
      "strValue" : null
    } ],
    "SHARED_SCOPE" : [ {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : null,
      "key" : "RemoteLoggingLevel",
      "lastUpdateTs" : 1770826103960,
      "longValue" : null,
      "strValue" : "DEBUG"
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : "[\"mqtt\"]",
      "key" : "active_connectors",
      "lastUpdateTs" : 1770825766486,
      "longValue" : null,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : "{\"host\":\"app.nexoragro.com\",\"port\":1883,\"remoteShell\":true,\"remoteConfiguration\":true,\"checkConnectorsConfigurationInSeconds\":60,\"statistics\":{\"enable\":true,\"enableCustom\":false,\"statsSendPeriodInSeconds\":3600,\"customStatsSendPeriodInSeconds\":3600,\"commands\":[]},\"maxPayloadSizeBytes\":8196,\"minPackSendDelayMS\":50,\"minPackSizeToSend\":500,\"handleDeviceRenaming\":true,\"checkingDeviceActivity\":{\"checkDeviceInactivity\":false,\"inactivityTimeoutSeconds\":300,\"inactivityCheckPeriodSeconds\":10},\"security\":{\"type\":\"accessToken\",\"accessToken\":\"hgdktEDhCSjnM0ZrkmIl\"},\"qos\":1,\"reportStrategy\":{\"type\":\"ON_RECEIVED\",\"reportPeriod\":10000,\"ttl\":86400},\"ts\":1770826105998}",
      "key" : "general_configuration",
      "lastUpdateTs" : 1770826103960,
      "longValue" : null,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : "{\"enabled\":false,\"serverPort\":9595,\"keepAliveTimeMs\":10001,\"keepAliveTimeoutMs\":5000,\"keepAlivePermitWithoutCalls\":true,\"maxPingsWithoutData\":0,\"minTimeBetweenPingsMs\":10000,\"minPingIntervalWithoutDataMs\":5000,\"ts\":1770826105998}",
      "key" : "grpc_configuration",
      "lastUpdateTs" : 1770826103960,
      "longValue" : null,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : "{\"version\":1,\"disable_existing_loggers\":false,\"formatters\":{\"LogFormatter\":{\"class\":\"logging.Formatter\",\"format\":\"%(asctime)s.%(msecs)03d - |%(levelname)s| - [%(filename)s] - %(module)s - %(funcName)s - %(lineno)d - %(message)s\",\"datefmt\":\"%Y-%m-%d %H:%M:%S\"}},\"handlers\":{\"consoleHandler\":{\"class\":\"logging.StreamHandler\",\"formatter\":\"LogFormatter\",\"level\":0,\"stream\":\"ext://sys.stdout\"},\"serviceHandler\":{\"class\":\"thingsboard_gateway.tb_utility.tb_rotating_file_handler.TimedRotatingFileHandler\",\"formatter\":\"LogFormatter\",\"filename\":\"./logs/service.log\",\"backupCount\":7,\"interval\":3,\"when\":\"D\",\"encoding\":\"utf-8\"},\"connectorHandler\":{\"class\":\"thingsboard_gateway.tb_utility.tb_rotating_file_handler.TimedRotatingFileHandler\",\"formatter\":\"LogFormatter\",\"filename\":\"./logs/connector.log\",\"backupCount\":7,\"interval\":3,\"when\":\"D\",\"encoding\":\"utf-8\"},\"converterHandler\":{\"class\":\"thingsboard_gateway.tb_utility.tb_rotating_file_handler.TimedRotatingFileHandler\",\"formatter\":\"LogFormatter\",\"filename\":\"./logs/converter.log\",\"backupCount\":7,\"interval\":3,\"when\":\"D\",\"encoding\":\"utf-8\"},\"tb_connectionHandler\":{\"class\":\"thingsboard_gateway.tb_utility.tb_rotating_file_handler.TimedRotatingFileHandler\",\"formatter\":\"LogFormatter\",\"filename\":\"./logs/tb_connection.log\",\"backupCount\":7,\"interval\":3,\"when\":\"D\",\"encoding\":\"utf-8\"},\"storageHandler\":{\"class\":\"thingsboard_gateway.tb_utility.tb_rotating_file_handler.TimedRotatingFileHandler\",\"formatter\":\"LogFormatter\",\"filename\":\"./logs/storage.log\",\"backupCount\":7,\"interval\":3,\"when\":\"D\",\"encoding\":\"utf-8\"},\"extensionHandler\":{\"class\":\"thingsboard_gateway.tb_utility.tb_rotating_file_handler.TimedRotatingFileHandler\",\"formatter\":\"LogFormatter\",\"filename\":\"./logs/extension.log\",\"backupCount\":7,\"interval\":3,\"when\":\"D\",\"encoding\":\"utf-8\"}},\"loggers\":{\"service\":{\"handlers\":[\"serviceHandler\",\"consoleHandler\"],\"level\":\"INFO\",\"propagate\":false},\"connector\":{\"handlers\":[\"connectorHandler\",\"consoleHandler\"],\"level\":\"INFO\",\"propagate\":false},\"converter\":{\"handlers\":[\"converterHandler\",\"consoleHandler\"],\"level\":\"INFO\",\"propagate\":false},\"tb_connection\":{\"handlers\":[\"tb_connectionHandler\",\"consoleHandler\"],\"level\":\"INFO\",\"propagate\":false},\"storage\":{\"handlers\":[\"storageHandler\",\"consoleHandler\"],\"level\":\"INFO\",\"propagate\":false},\"extension\":{\"handlers\":[\"extensionHandler\",\"consoleHandler\"],\"level\":\"INFO\",\"propagate\":false}},\"root\":{\"level\":\"ERROR\",\"handlers\":[\"consoleHandler\"]},\"ts\":1770826105998}",
      "key" : "logs_configuration",
      "lastUpdateTs" : 1770826103960,
      "longValue" : null,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : null,
      "key" : "mode",
      "lastUpdateTs" : 1770826103960,
      "longValue" : null,
      "strValue" : "basic"
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : "{\"mode\":\"advanced\",\"name\":\"mqtt\",\"type\":\"mqtt\",\"enableRemoteLogging\":true,\"logLevel\":\"DEBUG\",\"configuration\":\"mqtt.json\",\"configurationJson\":{\"broker\":{\"host\":\"mosquitto\",\"port\":1883,\"version\":5,\"clientId\":\"ThingsBoard_gateway\",\"security\":{\"type\":\"anonymous\"},\"maxNumberOfWorkers\":100,\"maxMessageNumberPerWorker\":10},\"mapping\":[{\"topicFilter\":\"sensor/data\",\"subscriptionQos\":1,\"converter\":{\"type\":\"json\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"constant\",\"deviceNameExpression\":\"dev01\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"default\"},\"attributes\":[],\"timeseries\":[{\"type\":\"double\",\"key\":\"temp\",\"value\":\"${temp}\"},{\"type\":\"double\",\"key\":\"hum\",\"value\":\"${hum}\"}]}},{\"topicFilter\":\"sensor/+/data\",\"subscriptionQos\":1,\"converter\":{\"type\":\"json\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"topic\",\"deviceNameExpression\":\"(?<=sensor/)(.*?)(?=/data)\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"Thermometer\"},\"sendDataOnlyOnChange\":false,\"timeout\":60000,\"attributes\":[{\"type\":\"string\",\"key\":\"model\",\"value\":\"${sensorModel}\"}],\"timeseries\":[{\"type\":\"double\",\"key\":\"temperature\",\"value\":\"${temp}\"},{\"type\":\"string\",\"key\":\"humidity\",\"value\":\"${hum}\"}]}},{\"topicFilter\":\"sensor/raw_data\",\"subscriptionQos\":1,\"converter\":{\"type\":\"bytes\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"message\",\"deviceNameExpression\":\"[0:4]\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"default\"},\"sendDataOnlyOnChange\":false,\"timeout\":60000,\"attributes\":[{\"type\":\"raw\",\"key\":\"rawData\",\"value\":\"[:]\"}],\"timeseries\":[{\"type\":\"raw\",\"key\":\"temp\",\"value\":\"[4:]\"}]}},{\"topicFilter\":\"custom/sensors/+\",\"subscriptionQos\":1,\"converter\":{\"type\":\"custom\",\"extension\":\"CustomMqttUplinkConverter\",\"cached\":true,\"extensionConfig\":{\"temperature\":2,\"humidity\":2,\"batteryLevel\":1}}},{\"topicFilter\":\"test/topic\",\"subscriptionQos\":0,\"converter\":{\"type\":\"json\",\"deviceInfo\":{\"deviceNameExpression\":\"bla\",\"deviceNameExpressionSource\":\"constant\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"default\"},\"attributes\":[],\"timeseries\":[{\"key\":\"${temp}\",\"type\":\"integer\",\"value\":\"temp\"}]}},{\"topicFilter\":\"sonoff/+/+/tele/STATE\",\"subscriptionQos\":1,\"converter\":{\"type\":\"json\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"topic\",\"deviceNameExpression\":\"(?<=sonoff/)(.*?)(?=/tele)\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"default\"},\"attributes\":[],\"timeseries\":[{\"type\":\"string\",\"key\":\"Uptime\",\"value\":\"${Uptime}\"},{\"type\":\"double\",\"key\":\"Heap\",\"value\":\"${Heap}\"},{\"type\":\"string\",\"key\":\"POWER\",\"value\":\"${POWER}\"}]}},{\"topicFilter\":\"sonoff/+/+/stat/RESULT\",\"subscriptionQos\":1,\"converter\":{\"type\":\"json\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"topic\",\"deviceNameExpression\":\"(?<=sonoff/)(.*?)(?=/stat)\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"default\"},\"attributes\":[{\"key\":\"RESULT\",\"type\":\"string\",\"value\":\"${$}\"}],\"timeseries\":[{\"type\":\"string\",\"key\":\"POWER\",\"value\":\"${POWER}\"}]}},{\"topicFilter\":\"tele/+/STATE\",\"subscriptionQos\":1,\"converter\":{\"type\":\"json\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"topic\",\"deviceNameExpression\":\"(?<=tele/)(.*?)(?=/STATE)\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"default\"},\"attributes\":[{\"type\":\"string\",\"key\":\"Hostname\",\"value\":\"${Hostname}\"},{\"type\":\"string\",\"key\":\"IPAddress\",\"value\":\"${IPAddress}\"},{\"type\":\"string\",\"key\":\"Wifi.SSId\",\"value\":\"${Wifi.SSId}\"}],\"timeseries\":[{\"key\":\"POWER\",\"type\":\"string\",\"value\":\"${POWER}\"},{\"key\":\"UptimeSec\",\"type\":\"long\",\"value\":\"${UptimeSec}\"},{\"key\":\"Wifi.RSSI\",\"type\":\"long\",\"value\":\"${Wifi.RSSI}\"},{\"key\":\"Wifi.Signal\",\"type\":\"long\",\"value\":\"${Wifi.Signal}\"}]}},{\"topicFilter\":\"tele/+/SENSOR\",\"subscriptionQos\":1,\"converter\":{\"type\":\"json\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"topic\",\"deviceNameExpression\":\"(?<=tele/)(.*?)(?=/SENSOR)\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"default\"},\"attributes\":[],\"timeseries\":[{\"key\":\"power_w\",\"type\":\"long\",\"value\":\"${ENERGY.Power}\"},{\"key\":\"voltage_v\",\"type\":\"double\",\"value\":\"${ENERGY.Voltage}\"},{\"key\":\"current_a\",\"type\":\"double\",\"value\":\"${ENERGY.Current}\"},{\"key\":\"power_factor\",\"type\":\"double\",\"value\":\"${ENERGY.Factor}\"},{\"key\":\"energy_total_kwh\",\"type\":\"double\",\"value\":\"${ENERGY.Total}\"},{\"key\":\"energy_today_kwh\",\"type\":\"double\",\"value\":\"${ENERGY.Today}\"},{\"key\":\"energy_yesterday_kwh\",\"type\":\"double\",\"value\":\"${ENERGY.Yesterday}\"}]}},{\"topicFilter\":\"stat/+/RESULT\",\"subscriptionQos\":1,\"converter\":{\"type\":\"json\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"topic\",\"deviceNameExpression\":\"(?<=stat/)(.*?)(?=/RESULT)\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"default\"},\"attributes\":[{\"key\":\"tasmota_result\",\"type\":\"string\",\"value\":\"${$}\"}],\"timeseries\":[{\"type\":\"string\",\"key\":\"POWER\",\"value\":\"${POWER}\"}]}}],\"requestsMapping\":{\"connectRequests\":[{\"topicFilter\":\"sensor/connect\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"message\",\"deviceNameExpression\":\"${serialNumber}\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"Thermometer\"}},{\"topicFilter\":\"sensor/+/connect\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"topic\",\"deviceNameExpression\":\"(?<=sensor/)(.*?)(?=/connect)\",\"deviceProfileExpressionSource\":\"constant\",\"deviceProfileExpression\":\"Thermometer\"}}],\"disconnectRequests\":[{\"topicFilter\":\"sensor/disconnect\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"message\",\"deviceNameExpression\":\"${serialNumber}\"}},{\"topicFilter\":\"sensor/+/disconnect\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"topic\",\"deviceNameExpression\":\"(?<=sensor/)(.*?)(?=/connect)\"}}],\"attributeRequests\":[{\"retain\":false,\"topicFilter\":\"v1/devices/me/attributes/request\",\"deviceInfo\":{\"deviceNameExpressionSource\":\"message\",\"deviceNameExpression\":\"${serialNumber}\"},\"attributeNameExpressionSource\":\"message\",\"attributeNameExpression\":\"${versionAttribute}, ${pduAttribute}\",\"topicExpression\":\"devices/${deviceName}/attrs\",\"valueExpression\":\"${attributeKey}: ${attributeValue}\"}],\"attributeUpdates\":[{\"retain\":true,\"deviceNameFilter\":\".*\",\"attributeFilter\":\"firmwareVersion\",\"topicExpression\":\"sensor/${deviceName}/${attributeKey}\",\"valueExpression\":\"{\\\"${attributeKey}\\\":\\\"${attributeValue}\\\"}\"}],\"serverSideRpc\":[{\"type\":\"twoWay\",\"deviceNameFilter\":\".*\",\"methodFilter\":\"echo\",\"requestTopicExpression\":\"sensor/${deviceName}/request/${methodName}/${requestId}\",\"responseTopicExpression\":\"sensor/${deviceName}/response/${methodName}/${requestId}\",\"responseTopicQoS\":1,\"responseTimeout\":10000,\"valueExpression\":\"${params}\"},{\"type\":\"oneWay\",\"deviceNameFilter\":\".*\",\"methodFilter\":\"no-reply\",\"requestTopicExpression\":\"sensor/${deviceName}/request/${methodName}/${requestId}\",\"valueExpression\":\"${params}\"},{\"type\":\"oneWay\",\"deviceNameFilter\":\".*\",\"methodFilter\":\"toggle\",\"requestTopicExpression\":\"cmnd/${deviceName}/POWER\",\"valueExpression\":\"TOGGLE\"},{\"type\":\"twoWay\",\"deviceNameFilter\":\".*\",\"methodFilter\":\"getPower\",\"requestTopicExpression\":\"cmnd/${deviceName}/POWER\",\"valueExpression\":\"${params}\",\"responseTopicExpression\":\"stat/${deviceName}/RESULT\",\"responseTopicQoS\":1,\"responseTimeout\":10000},{\"type\":\"oneWay\",\"deviceNameFilter\":\".*\",\"methodFilter\":\"backlog\",\"requestTopicExpression\":\"cmnd/${deviceName}/backlog\",\"valueExpression\":\"teleperiod\"},{\"type\":\"oneWay\",\"deviceNameFilter\":\".*\",\"methodFilter\":\"tasmotaCmd\",\"requestTopicExpression\":\"cmnd/${deviceName}/${params.cmd}\",\"valueExpression\":\"${params.value}\"}]},\"name\":\"mqtt\",\"id\":\"6aa2d846-d6d1-47f9-9d7a-7d960e6346c0\",\"logLevel\":\"DEBUG\",\"enableRemoteLogging\":true,\"configVersion\":\"3.7.8\"},\"configVersion\":\"3.7.8\",\"ts\":1772222288438}",
      "key" : "mqtt",
      "lastUpdateTs" : 1772222288370,
      "longValue" : null,
      "strValue" : null
    }, {
      "booleanValue" : null,
      "doubleValue" : null,
      "jsonValue" : "{\"type\":\"memory\",\"read_records_count\":100,\"max_records_count\":100000,\"data_folder_path\":\"./data/\",\"max_file_count\":10,\"max_read_records_count\":10,\"max_records_per_file\":10000,\"data_file_path\":\"./data/data.db\",\"messages_ttl_check_in_hours\":1,\"messages_ttl_in_days\":7,\"ts\":1770826105998}",
      "key" : "storage_configuration",
      "lastUpdateTs" : 1770826103960,
      "longValue" : null,
      "strValue" : null
    } ]
  },
  "calculatedFields" : [ ]
}